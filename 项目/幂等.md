**幂等**一般指方法被多次调用时所产生的影响和第一次执行的影响是相同的。

在网络通信中存在两种行为可能导致接口被重复调用：

- 用户的`重复提交`或用户的`恶意攻击`，导致这个请求被多次重复执行
- 在分布式架构中，为了避免网络通习导致的数据丢失，在服务之间进行通信的时候都会设计`超时重试`的机制，而这种机制有可能导致`服务端接口被重复调用`

**解决方法**

- 使用数据库的`唯一约束`实现幂等，比如对于数据插入类的场景，比如创建订单，因为订单号肯定是`唯一的`，所以如果是多次调用就会触发数据库的唯一约束异常，从而避免一个请求创建多个订单的问题的
- 使用 redis 中提供的`setNX`指令，比如对于 MQ 消费的场景，为了避免 MQ 重复消费导致数据多次被修改的问题，可以在接收到 MQ 的消息时，把这个消息通过 setNX 写入到 redis 中，一旦这个消息被消费过，就不会再次消费
- `使用状态机来实现幂等`，所谓状态机是指一条数据的完整运行状态的转换流程，比如订单状态，因为它的状态只会向前变更，所以多次修改同一条数据的时候，一旦状态发生变更，那么对这条数据修改造成的影响只会发生一次
- 其他的方法如使用`Token`、`乐观锁`等

总结：要么接口只允许调用一次，比如唯一约束，基于`redis`的锁机制，要么就是对数据的影响只会触发一次，比如`状态机`、`乐观锁`等。